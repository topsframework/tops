// Standard headers
#include <iostream>
#include <string>
#include <vector>

// Internal headers
#include "app/Myop.hpp"
#include "app/states.hpp"

int main(int argc, char *argv[]) {
  std::string dataset = "dataset";

  if (argc >= 2) {
    dataset = argv[1];
  }

  tops::app::Myop myop(dataset);

  auto prediction = myop.predict({
    // Random sequence
    //1, 3, 1, 2, 0, 1, 3, 0, 2

    // Real gene (AT1G34280)
    0, 3, 0, 0, 3, 0, 0, 1, 3, 3, 2, 2, 0, 2, 0, 0, 0, 3, 3, 2, 0, 3,
    3, 1, 3, 0, 1, 2, 3, 0, 0, 3, 2, 3, 0, 2, 0, 2, 2, 0, 0, 2, 0, 0,
    3, 0, 2, 0, 1, 0, 1, 0, 3, 2, 0, 3, 3, 3, 3, 1, 0, 3, 0, 2, 3, 3,
    0, 3, 0, 0, 3, 3, 0, 3, 1, 1, 1, 0, 3, 2, 3, 2, 1, 3, 3, 0, 3, 0,
    3, 3, 1, 0, 0, 0, 1, 1, 3, 3, 2, 0, 3, 1, 0, 1, 1, 0, 1, 1, 0, 0,
    0, 1, 1, 1, 0, 1, 1, 1, 3, 2, 0, 1, 3, 2, 0, 3, 1, 1, 0, 0, 2, 0,
    1, 1, 0, 0, 1, 0, 2, 0, 1, 1, 0, 3, 1, 1, 0, 0, 0, 2, 3, 1, 0, 0,
    3, 1, 1, 0, 1, 1, 0, 1, 1, 0, 0, 3, 0, 2, 2, 1, 1, 1, 3, 1, 1, 0,
    1, 3, 0, 2, 3, 0, 2, 0, 3, 1, 1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0,
    0, 3, 2, 1, 3, 3, 3, 0, 1, 1, 3, 0, 0, 0, 2, 0, 1, 3, 3, 0, 3, 3,
    0, 1, 1, 0, 1, 1, 0, 3, 3, 3, 1, 1, 0, 2, 0, 0, 0, 1, 0, 3, 1, 0,
    2, 0, 3, 3, 3, 3, 0, 1, 0, 3, 0, 3, 3, 1, 0, 1, 3, 3, 1, 1, 0, 1,
    3, 0, 3, 3, 2, 0, 3, 2, 1, 1, 0, 2, 3, 3, 0, 1, 3, 1, 2, 3, 0, 0,
    2, 3, 3, 2, 0, 3, 1, 0, 3, 0, 3, 1, 0, 1, 0, 0, 2, 2, 0, 3, 3, 1,
    0, 3, 0, 3, 0, 3, 3, 3, 0, 3, 2, 0, 0, 1, 0, 1, 1, 2, 2, 0, 3, 0,
    0, 1, 1, 2, 1, 3, 1, 1, 0, 3, 3, 3, 0, 3, 1, 2, 0, 0, 3, 3, 3, 3,
    0, 3, 3, 1, 3, 1, 1, 3, 1, 0, 1, 3, 3, 1, 2, 3, 0, 0, 1, 3, 3, 3,
    0, 3, 0, 0, 0, 3, 1, 1, 2, 3, 1, 0, 1, 0, 0, 0, 3, 0, 3, 1, 3, 3,
    1, 0, 3, 1, 2, 3, 3, 1, 0, 3, 3, 0, 2, 1, 0, 0, 1, 3, 3, 2, 3, 3,
    3, 2, 1, 3, 3, 1, 1, 1, 0, 3, 1, 0, 0, 0, 0, 3, 0, 3, 0, 3, 3, 1,
  });

  for (auto symbol : prediction)
    std::cout << tops::app::state_names[symbol] << " ";
  std::cout << std::endl;

  return 0;
}
